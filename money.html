<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KTè³‡ç”£ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</title>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { 
            font-family: 'Courier New', monospace; 
            background: #0a0a0a; 
            color: #00ff00; 
            padding: 20px;
            min-height: 100vh;
        }
        h1 { color: #00ff00; margin-bottom: 10px; }
        .updated { color: #666; font-size: 12px; margin-bottom: 30px; }
        .section { 
            background: #111; 
            border: 1px solid #00ff00; 
            padding: 20px; 
            margin-bottom: 20px;
            border-radius: 5px;
        }
        h2 { color: #00ff00; margin-bottom: 15px; border-bottom: 1px solid #333; padding-bottom: 10px; }
        table { width: 100%; border-collapse: collapse; }
        th, td { padding: 10px; text-align: left; border-bottom: 1px solid #333; }
        th { color: #888; }
        .total { color: #ffff00; font-weight: bold; font-size: 18px; }
        .address { font-size: 11px; color: #888; word-break: break-all; }
        .strategy { background: #1a1a00; border-color: #ffff00; }
        .strategy h2 { color: #ffff00; }
        .warning { color: #ff6600; }
        .zero { color: #666; }
    </style>
    <script>
        // è³‡ç”£æƒ…å ±ã‚’å–å¾—ãƒ»æ›´æ–°ã™ã‚‹é–¢æ•°
        async function fetchAssetData() {
            try {
                // KuCoin APIå‘¼ã³å‡ºã—ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ã§ç§˜å¯†éµã‹ã‚‰ç”Ÿæˆï¼‰
                const response = await fetch('/api/assets');
                const data = await response.json();

                // å„ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’æ›´æ–°
                document.getElementById('total-value').textContent = `$${data.totalUSD}`;
                document.getElementById('lastUpdate').textContent = new Date().toLocaleString('ja-JP', {
                    year: 'numeric', month: '2-digit', day: '2-digit', 
                    hour: '2-digit', minute: '2-digit', second: '2-digit'
                });

                // KuCoinè³‡ç”£ãƒ†ãƒ¼ãƒ–ãƒ«
                const kucoinTable = document.querySelector('#kucoin-table tbody');
                kucoinTable.innerHTML = data.kucoin.map(asset => `
                    <tr>
                        <td>${asset.symbol}</td>
                        <td>${asset.amount}</td>
                        <td>$${asset.usdValue}</td>
                    </tr>
                `).join('') + `
                    <tr class="total">
                        <td colspan="2">åˆè¨ˆ</td>
                        <td>$${data.kucoin.reduce((sum, a) => sum + a.usdValue, 0)}</td>
                    </tr>
                `;

                // ãã®ä»–ã®è³‡ç”£ï¼ˆSolana, Polygonï¼‰ã‚‚åŒæ§˜ã«æ›´æ–°
                document.getElementById('solana-balance').textContent = `${data.solana.balance} SOL`;
                document.getElementById('solana-usd').textContent = `$${data.solana.usdValue}`;

                document.getElementById('polygon-balance').textContent = `$${data.polygon.usdValue}`;
            } catch (error) {
                console.error('è³‡ç”£æƒ…å ±ã®æ›´æ–°ã«å¤±æ•—:', error);
            }
        }

        // åˆå›èª­ã¿è¾¼ã¿
        fetchAssetData();

        // å®šæœŸçš„ã«æ›´æ–° (5åˆ†ã”ã¨)
        setInterval(fetchAssetData, 5 * 60 * 1000);
    </script>
</head>
<body>
    <h1>ğŸ’° KTè³‡ç”£ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</h1>
    <p class="updated">æœ€çµ‚æ›´æ–°: <span id="lastUpdate">2026-02-04 20:48 JST</span></p>

    <div class="section">
        <h2>ğŸ“Š ç·è³‡ç”£</h2>
        <p id="total-value" class="total">~$11,280 USD</p>
    </div>

    <div class="section">
        <h2>ğŸ¦ KuCoinï¼ˆCEXï¼‰</h2>
        <table id="kucoin-table">
            <thead>
                <tr><th>é€šè²¨</th><th>æ•°é‡</th><th>æ¦‚ç®—USD</th></tr>
            </thead>
            <tbody>
                <tr><td>USDT</td><td>2,374</td><td>$2,374</td></tr>
                <tr><td>XMR</td><td>~14</td><td>~$3,000</td></tr>
                <tr><td>PAXG</td><td>~0.9</td><td>~$2,500</td></tr>
                <tr><td>BTC</td><td>~0.03</td><td>~$3,100</td></tr>
                <tr><td>KCS</td><td>~10</td><td>~$110</td></tr>
                <tr class="total"><td colspan="2">åˆè¨ˆ</td><td>~$11,000</td></tr>
            </tbody>
        </table>
    </div>

    <div class="section">
        <h2>ğŸŸ£ Solana ã‚¦ã‚©ãƒ¬ãƒƒãƒˆ</h2>
        <p class="address">CCRXLZKrQw8XirEximSfhqLTF5aJ1qrvBx1KuiVmoTHC</p>
        <table>
            <tr><th>é€šè²¨</th><th>æ•°é‡</th><th>æ¦‚ç®—USD</th></tr>
            <tr><td>SOL</td><td id="solana-balance">1.192</td><td id="solana-usd">~$280</td></tr>
        </table>
    </div>

    <div class="section">
        <h2>ğŸ”· Polygon ã‚¦ã‚©ãƒ¬ãƒƒãƒˆ</h2>
        <p class="address">0xf663dE57b9d93Ca69fB66FC4D41Af7632F0a37C4</p>
        <table>
            <tr><th>é€šè²¨</th><th>æ•°é‡</th><th>æ¦‚ç®—USD</th></tr>
            <tr class="zero"><td>(ãªã—)</td><td>0</td><td id="polygon-balance">$0</td></tr>
        </table>
        <p class="warning">âš ï¸ æœªå…¥é‡‘ - $110é€é‡‘äºˆå®š</p>
    </div>

    <div class="section strategy">
        <h2>ğŸ“ è³‡ç”£é…åˆ†æˆ¦ç•¥</h2>
        <ul style="list-style: none; padding: 10px;">
            <li>â€¢ <strong>99% é•·æœŸä¿æœ‰</strong>: PAXG:XMR:BTC = 33:33:33</li>
            <li>â€¢ <strong>1% ã‚®ãƒ£ãƒ³ãƒ–ãƒ«</strong>: ~$110ï¼ˆç¾åœ¨SOL 1.192ï¼‰</li>
            <li style="margin-top: 10px; color: #888;">æˆåŠŸã—ãŸã‚‰ â†’ 90%é•·æœŸ + 10%ã‚®ãƒ£ãƒ³ãƒ–ãƒ«ã«ç§»è¡Œ</li>
        </ul>
    </div>

    <div class="section">
        <h2>ğŸ“ é€é‡‘å±¥æ­´ï¼ˆãƒ¬ãƒ‡ã‚£å®Ÿè¡Œåˆ†ï¼‰</h2>
        <table>
            <tr><th>æ—¥ä»˜</th><th>Fromâ†’To</th><th>é€šè²¨</th><th>æ•°é‡</th></tr>
            <tr>
                <td>2026-02-04</td>
                <td>KuCoin â†’ Solana</td>
                <td>SOL</td>
                <td>1.192</td>
            </tr>
        </table>
    </div>

    <div class="section">
        <h2>ğŸ” ç§˜å¯†éµä¿ç®¡å ´æ‰€</h2>
        <script>
            // ç§˜å¯†éµã®å ´æ‰€ã‚’JavaScriptã§å‹•çš„ã«è¿½åŠ 
            window.keyLocations = {
                'solana_wallet': 'GOLD_VAULT/sol.json',
                'polygon_wallet': 'GOLD_VAULT/poly.json',
                'kucoin_api': 'SECRETS/kc.md'
            };
        </script>
        <div id="key-locations-display"></div>
        <script>
            // éµã®å ´æ‰€ã‚’è¡¨ç¤ºï¼ˆæš—å·åŒ–ã•ã‚ŒãŸçŠ¶æ…‹ã§ï¼‰
            document.addEventListener('DOMContentLoaded', function() {
                const display = document.getElementById('key-locations-display');
                const locations = window.keyLocations;
                
                const locationsList = Object.entries(locations).map(([key, path]) => {
                    // ç°¡å˜ãªé›£èª­åŒ–ï¼ˆå®Ÿéš›ã®ãƒ‡ã‚³ãƒ¼ãƒ‰ã¯ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã§è¡Œã†ï¼‰
                    const encodedPath = btoa(path).replace(/=/g, '').split('').reverse().join('');
                    return `<li style="color: #888;">â€¢ ${key}: <span style="font-size: 11px;">${encodedPath}</span></li>`;
                }).join('');
                
                display.innerHTML = `<ul style="list-style: none; padding: 10px;">${locationsList}</ul>`;
            });
        </script>
    </div>

</body>
</html>
